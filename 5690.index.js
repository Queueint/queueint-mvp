"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5690],{36801:(e,t,r)=>{r.d(t,{Z:()=>i});var a=r(28276),n=r.n(a),o=r(5368),s=r.n(o)()(n());s.push([e.id,'.backButton{display:inline-block;font-size:.8666em;height:1.5625em;color:#8692a6;background-color:transparent;border:0;cursor:pointer;font-family:"Poppins",sans-serif;padding:0;margin:0;font-weight:500}@media screen and (min-width: 852px){.backButton{font-size:.8421em}}.backButton:lang(he){font-family:"Assistant","sans-serif"}.backButton .icon{margin-inline-end:.375em}.backButton.placeholder{height:1.3em}',""]);const i=s},5199:(e,t,r)=>{r.d(t,{Z:()=>i});var a=r(28276),n=r.n(a),o=r(5368),s=r.n(o)()(n());s.push([e.id,'.cardPage{display:flex;flex-direction:column}.cardPage.withBottomPanel .card{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:0}.cardPage .card{position:relative;margin:0 1.2em 1.2em;background-color:#fff;border-radius:11px;overflow-y:auto;display:flex;flex-direction:column;gap:1rem;height:100%;box-sizing:border-box;flex-grow:1;scrollbar-color:#5bc6f9 #dadada;scrollbar-width:thin}@media screen and (max-width: 380px){.cardPage .card{gap:0rem;margin:0 1.2em 1.2em}}.cardPage .card::-webkit-scrollbar{width:3pt}.cardPage .card::-webkit-scrollbar-track{background-color:#dadada;border-radius:3pt}.cardPage .card::-webkit-scrollbar-thumb{background-color:#5bc6f9;border-radius:3pt}.cardPage .card::-webkit-scrollbar-thumb:hover{background-color:#3bb1e7}.cardPage .card .cardTop{border-bottom:1px solid #f1f1f1}.cardPage .card .cardTop .backButton{margin-top:2.0212em;font-size:1.0666em;line-height:1.3081em;color:#000;margin-inline-start:1.0937em}.cardPage .card .cardTop .cardTopHeader{display:flex;align-items:center;justify-content:center;text-align:start;margin-left:1.36667em;margin-right:1.36667em;margin-bottom:1.73333em}.cardPage .card .cardTop .cardTopHeader .titleContainer{display:flex;align-items:center;justify-content:center;margin:2rem auto 0rem auto;gap:1rem}.cardPage .card .cardTop .cardTopHeader .titleContainer:lang(he){font-family:"Assistant","sans-serif"}@media screen and (max-width: 500px){.cardPage .card .cardTop .cardTopHeader .titleContainer:lang(he){margin:2rem 0 0rem auto}}.cardPage .card .cardTop .cardTopHeader .customerDetailCallout{line-height:1.3333em;padding:1em .8333em 1.5em;translate:0 50%;max-width:36em}.cardPage .card .cardTop .cardTopHeader .customerDetailCallout.ms-Callout{font-size:.8em}.cardPage .card .cardTop .cardTopHeader .customerDetailCallout button{background-color:transparent;border:0;cursor:pointer;color:#5bc6f9;font-size:.7708em;padding:0 0 1.1621em 1.1621em}.cardPage .card .cardTop .cardTopHeader .customerDetailCallout button i{height:1em;width:1em}.cardPage .card .cardTop .cardTopHeader button{background-color:#5fcf90;border-radius:50%;border-style:none;color:#fff;margin-inline-start:.4125em;line-height:1em;padding:.25em .63em;cursor:pointer}.cardPage .card .cardTop .cardTopHeader .cardTopHeaderText{font-size:1.66667em;font-weight:700;margin:0}@media screen and (max-width: 500px){.cardPage .card .cardTop .cardTopHeader .cardTopHeaderText{font-size:1.3em}}.cardPage .card .cardTop .cardTopHeader .titleIcon{font-size:1.7333em;margin-left:.32em;margin-right:.32em}.cardPage .buttonContainer{flex:0 0 3.53333em;background-color:#fff;width:100%;border-top:1px solid #dfdfdf;display:flex}.cardPage .buttonContainer .button{font-size:1em;margin:.8em;flex:1}.cardPage .buttonContainer .button .ms-Button-flexContainer{padding:.3333em;line-height:1.308em;height:1.3333em}',""]);const i=s},77550:(e,t,r)=>{r.d(t,{Z:()=>i});var a=r(28276),n=r.n(a),o=r(5368),s=r.n(o)()(n());s.push([e.id,".spinner{box-sizing:border-box;border-radius:100%;border-style:solid;border-width:2px;border-color:#8cdbff #8cdbff transparent transparent;border-top:0;position:absolute;top:50%;left:50%;pointer-events:none}.spinner.s0{transform:translate(-50%, -50%) rotate(0)}.spinner.s1{transition:transform 3s linear;transform:translate(-50%, -50%) rotate(0)}.spinner.s2{transition:transform 3s linear;transform:translate(-50%, -50%) rotate(360deg)}",""]);const i=s},46050:(e,t,r)=>{r.d(t,{Z:()=>i});var a=r(28276),n=r.n(a),o=r(5368),s=r.n(o)()(n());s.push([e.id,".queueDisplayPage .cardPage .card{display:flex;flex-direction:column}.queueDisplayPage .cardPage .card .cardTop .cardTopHeader .cardTopHeaderText{font-weight:600;font-size:1.5333em;text-align:center}.queueDisplayPage .cardPage .card .cardContent{display:grid;grid-template-columns:1fr 1fr;align-items:center;padding:1rem;gap:1rem}.queueDisplayPage .cardPage .card .cardContent .button{height:5rem}.alertChange{margin:1.5rem;border:1px solid #3bb1e7;border-radius:8px;justify-content:center;padding:1rem;position:relative;display:flex;flex-direction:column;box-shadow:2px -3px 5px 1px #3bb1e7;-webkit-box-shadow:2px -1px 5px 1px #3bb1e7;-moz-box-shadow:2px -2px 5px 1px #3bb1e7}.alertChange .close{color:#3bb1e7;font-size:18px;font-weight:bolder;text-align:right;padding:1rem;padding:1rem}.alertChange .close:hover{cursor:pointer}.alertChange .content{text-align:center}.alertChange .icon-wrapper{position:absolute;left:40%;top:2rem}.alertChange .icon-wrapper button{border:none;background-color:#fff}",""]);const i=s},14469:(e,t,r)=>{r.d(t,{Z:()=>i});var a=r(51855),n=r(26154),o=r(47562),s=r(78451);function i(e,t={}){const r=(0,n.Z)(),i="undefined"!=typeof window&&void 0!==window.matchMedia,{defaultMatches:c=!1,matchMedia:l=(i?window.matchMedia:null),noSsr:u=!1,ssrMatchMedia:d=null}=(0,o.Z)({name:"MuiUseMediaQuery",props:t,theme:r});let m="function"==typeof e?e(r):e;m=m.replace(/^@media( ?)/m,"");const[p,h]=a.useState((()=>u&&i?l(m).matches:d?d(m).matches:c));return(0,s.Z)((()=>{let e=!0;if(!i)return;const t=l(m),r=()=>{e&&h(t.matches)};return r(),t.addListener(r),()=>{e=!1,t.removeListener(r)}}),[m,l,i]),p}},22405:(e,t,r)=>{r.d(t,{Z:()=>i});var a=r(51855),n=r(5591),o=r(72220),s=r(19350);const i=e=>{const t=(0,n.s0)(),r=function(){const[,e]=(0,a.useState)(0);return()=>{e((e=>e+1))}}(),i=sessionStorage.getItem("authToken"),c=localStorage.getItem("credentialToken");return(0,a.useEffect)((()=>{let e=null;return i||(c?(0,o.Z)({credentialTokenUuid:c}).catch((()=>{localStorage.removeItem("credentialToken")})).finally((()=>{r()})):e=setTimeout((()=>{t("/login",{replace:!0})}),3e3)),()=>{e&&clearTimeout(e)}}),[i,c]),i?a.createElement(a.Fragment,null,e.children):c?a.createElement("div",{className:"narrowContent paddedContent"},a.createElement("h1",null,"טוען"),a.createElement(s.Z,null)):a.createElement("div",{className:"narrowContent paddedContent"},a.createElement("h1",null,"אין לך הרשאה לעמוד זה"))}},96816:(e,t,r)=>{r.d(t,{Z:()=>w});var a=r(51855),n=r(38032),o=r(2490),s=r(61495),i=r(93379),c=r.n(i),l=r(7795),u=r.n(l),d=r(90569),m=r.n(d),p=r(3565),h=r.n(p),b=r(19216),g=r.n(b),f=r(44589),v=r.n(f),x=r(36801),y={};y.styleTagTransform=v(),y.setAttributes=h(),y.insert=m().bind(null,"head"),y.domAPI=u(),y.insertStyleElement=g(),c()(x.Z,y),x.Z&&x.Z.locals&&x.Z.locals;const T={en:{back:"Back"},he:{back:"חזור"}},w=e=>{const t=(0,a.useContext)(o.r),r=s.Z.useTranslationNamespace("backButton",(e=>Promise.resolve(T[e]))),i=s.Z.useIsRtl(),c=!!e.override,l=t=>(e.className||"").split(" ").concat(t).join(" ");return t.canGoBack||c?a.createElement("button",{className:l("backButton"),type:"button",onClick:c?e.override:t.goBack},a.createElement(n.J,{iconName:i?"chevronRight":"chevronLeft",className:"icon"}),r("back")):a.createElement("div",{className:l("backButton placeholder")})}},51491:(e,t,r)=>{r.d(t,{Z:()=>w});var a=r(51855),n=r(38032),o=r(96816),s=r(34297),i=r(1285),c=r(93379),l=r.n(c),u=r(7795),d=r.n(u),m=r(90569),p=r.n(m),h=r(3565),b=r.n(h),g=r(19216),f=r.n(g),v=r(44589),x=r.n(v),y=r(5199),T={};T.styleTagTransform=x(),T.setAttributes=b(),T.insert=p().bind(null,"head"),T.domAPI=d(),T.insertStyleElement=f(),l()(y.Z,T),y.Z&&y.Z.locals&&y.Z.locals;const w=e=>{const[t,r]=(0,a.useState)(!1);return a.createElement("div",{className:(c="fullHeight cardPage"+(e.bottomPanel?" withBottomPanel":""),(e.className||"").split(" ").concat(c).join(" "))},a.createElement("div",{className:"card"},a.createElement("div",{className:"cardTop"},!e.hideBack&&a.createElement(o.Z,{override:e.backButtonOverride}),a.createElement("div",{className:"cardTopHeader"},a.createElement("div",{className:"titleContainer"},e.iconName?a.createElement(n.J,{iconName:e.iconName,className:"titleIcon"}):null,a.createElement("h1",{className:"cardTopHeaderText"},e.title)),e.layerInfo?a.createElement(a.Fragment,null,a.createElement("button",{id:"layerGroupInfoButton",type:"button",onClick:()=>r(!0)},"i"),t&&a.createElement(s.U,{className:"customerDetailCallout",target:".seatSetting__numinput-container",onDismiss:()=>r(!1),directionalHint:i.b.topCenter},a.createElement("button",{type:"button",onClick:()=>r(!1)},a.createElement(n.J,{iconName:"times"})),a.createElement("div",null,e.callout))):null)),e.cardContent),e.bottomPanel&&a.createElement("div",{className:e.bottomPanelClass?e.bottomPanelClass:"buttonContainer"},e.bottomPanel));var c}},19350:(e,t,r)=>{r.d(t,{Z:()=>y});var a=r(51855),n=r(9003),o=r(93379),s=r.n(o),i=r(7795),c=r.n(i),l=r(90569),u=r.n(l),d=r(3565),m=r.n(d),p=r(19216),h=r.n(p),b=r(44589),g=r.n(b),f=r(77550),v={};v.styleTagTransform=g(),v.setAttributes=m(),v.insert=u().bind(null,"head"),v.domAPI=c(),v.insertStyleElement=h(),s()(f.Z,v),f.Z&&f.Z.locals&&f.Z.locals;var x=r(14469);const y=e=>{const[t,r]=(0,a.useState)(0),o=(0,a.useRef)(),[s,i]=n.Z.useParentSize(o),c=(0,x.Z)("(max-width:500px)"),l=(0,x.Z)("(max-width:400px)"),u=!e.contentIsNumber&&l?0:!e.contentIsNumber&&c?-50:2,d=(c||l)&&e.contentIsNumber?15:0,m=e.contentIsNumber?u+0+s:s,p=Math.min(i,c?s+u+d:m)/2.3;return(0,a.useEffect)((()=>{const e=function(e,t){const a={callback:()=>{r((e=>(e+1)%3))},desiredTime:Date.now()+t},n=()=>{a.cleared||(Date.now()>=a.desiredTime?a.callback():window.requestAnimationFrame(n))};return window.requestAnimationFrame(n),a}(0,2===t?3e3:0);return()=>{!function(e){e.cleared=!0}(e)}}),[t]),a.createElement("div",{ref:o,className:"spinner"+(()=>{switch(t){case 0:return" s0";case 1:return" s1";case 2:return" s2"}return""})(),style:{width:2*p,height:2*p}})}},45690:(e,t,r)=>{r.r(t),r.d(t,{default:()=>B});var a=r(51855),n=r(5591),o=r(22405),s=r(43691),i=r(69451),c=r(64469),l=r(61495);const u=JSON.parse('{"queueDisplay":"Queue Type","regularText":"Regular Queue","customText":"Custom Queue","save":"save","switchToRegularNotice":"Each customer will see the \\n  number of tables he needs to wait at in the area he selected If there are no zones, the queue is FIFO","switchToCustomNotice":"The customer can see his position in the queue in comparison to customers with similar preferences (number of people, area, smoking)"}'),d=JSON.parse('{"queueDisplay":"הגדרות תור","regularText":"תור רגיל","customText":"תור מותאם אישית","save":"שמירה","switchToRegularNotice":" בחירה בתור הרגיל תציג ללקוח כמה שולחנות יש לפניו לפי האיזור שבחר.במידה ואין איזורים במסעדה, התור יהיה  רגיל.","switchToCustomNotice":"בחירה בתור המותאם אישית תציג ללקוח את מיקומו בתור ביחס ללקוחות שמילאו העדפות דומות (כמות אנשים, איזור, עישון)."}');var m=r(67506),p=r(51491),h=r(49470),b=r(77478),g=r(64225),f=r(93379),v=r.n(f),x=r(7795),y=r.n(x),T=r(90569),w=r.n(T),C=r(3565),E=r.n(C),P=r(19216),k=r.n(P),Z=r(44589),N=r.n(Z),S=r(46050),R={};R.styleTagTransform=N(),R.setAttributes=E(),R.insert=w().bind(null,"head"),R.domAPI=y(),R.insertStyleElement=k(),v()(S.Z,R),S.Z&&S.Z.locals&&S.Z.locals;const D={en:u,he:d},M=e=>{const t=l.Z.useTranslationNamespace("queueDisplay",(e=>Promise.resolve(D[e])));return a.createElement("div",{className:"alertChange"},a.createElement("div",{className:"close",onClick:e.onDismiss},"x"),a.createElement("div",{className:"icon-wrapper"},a.createElement(m.Z,{iconProps:{iconName:"infoCircle"}})),a.createElement("div",{className:"content"},e.toCustom?t("switchToCustomNotice"):t("switchToRegularNotice")))};const q={en:u,he:d},B=()=>{const{queueGroupId:e,queueId:t}=(0,n.UO)(),[r,u]=(0,a.useState)(!1),[d,f]=(0,a.useState)(!1),[v,x]=(0,a.useState)(!1),{enqueueSnackbar:y}=(0,g.Ds)(),{handleNotification:T}=(0,b.V)(),w=l.Z.useTranslationNamespace("queueDisplay",(e=>Promise.resolve(q[e]))),{data:C}=(0,i.a)({queryKey:["queryDisplay",e,t],queryFn:()=>{return r=void 0,a=void 0,o=function*(){return!0===(yield h.Z.queueGroup.queue.get(e,t)).isCustomDisplay},new((n=void 0)||(n=Promise))((function(e,t){function s(e){try{c(o.next(e))}catch(e){t(e)}}function i(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(s,i)}c((o=o.apply(r,a||[])).next())}));var r,a,n,o}}),{mutate:E,isLoading:P}=(0,c.D)((()=>h.Z.queueGroup.queue.updateCustomDisplay(e,t,{isCustomDisplay:C})),{onError:()=>{T("error",y)},onSuccess:()=>{u(!1),f(v),T("success",y)}}),k=()=>v===d,Z=e=>{x(e),k()?u(!0):u(!1)};return a.createElement("div",{className:"queueDisplayPage"},a.createElement(o.Z,null,a.createElement(s.Z,{hideBackButton:!0,menuProps:{canLogOut:!0}}),a.createElement(p.Z,{title:w("queueDisplay"),cardContent:a.createElement("div",null,a.createElement("div",{className:"cardContent"},a.createElement(m.Z,{customButtonType:v?"primary":"default",outlined:!1,text:w("customText"),onClick:()=>{Z(!0)}}),a.createElement(m.Z,{customButtonType:v?"default":"primary",outlined:!1,text:w("regularText"),onClick:()=>{Z(!1)}})),r&&a.createElement(M,{toCustom:v,onDismiss:()=>{u(!1)}})),bottomPanel:a.createElement(m.Z,{customButtonType:"secondary",outlined:k(),text:w("save"),disabled:P||k(),onClick:()=>E()})})))}},9003:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(51855);const n={useParentSize:function(e){const[t,r]=(0,a.useState)(0),[n,o]=(0,a.useState)(0),s=e.current&&e.current.parentElement;return(0,a.useLayoutEffect)((()=>{if(!s)return()=>{};const e=()=>{const e=s.clientHeight,a=s.clientWidth;let i=e<=140?98:5;t!==e&&r(e+(e<=79?98:5)),n!==a&&o(a+i)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}})),[n,t]}}},64469:(e,t,r)=>{r.d(t,{D:()=>m});var a=r(51855),n=r(464),o=r(89886),s=r(30081),i=r(33989),c=r(32161);class l extends i.l{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.client.defaultMutationOptions(e),(0,c.VS)(t,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this})}onUnsubscribe(){var e;this.listeners.length||null==(e=this.currentMutation)||e.removeObserver(this)}onMutationUpdate(e){this.updateResult();const t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:void 0!==e?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:(0,o.R)(),t={...e,isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(e){s.V.batch((()=>{var t,r,a,n;if(this.mutateOptions)if(e.onSuccess)null==(t=(r=this.mutateOptions).onSuccess)||t.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(a=(n=this.mutateOptions).onSettled)||a.call(n,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context);else if(e.onError){var o,s,i,c;null==(o=(s=this.mutateOptions).onError)||o.call(s,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(i=(c=this.mutateOptions).onSettled)||i.call(c,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}e.listeners&&this.listeners.forEach((e=>{e(this.currentResult)}))}))}}var u=r(85945),d=r(24798);function m(e,t,r){const o=(0,c.lV)(e,t,r),i=(0,u.NL)({context:o.context}),[m]=a.useState((()=>new l(i,o)));a.useEffect((()=>{m.setOptions(o)}),[m,o]);const h=(0,n.$)(a.useCallback((e=>m.subscribe(s.V.batchCalls(e))),[m]),(()=>m.getCurrentResult()),(()=>m.getCurrentResult())),b=a.useCallback(((e,t)=>{m.mutate(e,t).catch(p)}),[m]);if(h.error&&(0,d.L)(m.options.useErrorBoundary,[h.error]))throw h.error;return{...h,mutate:b,mutateAsync:h.mutate}}function p(){}}}]);