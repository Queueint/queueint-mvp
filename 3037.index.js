"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3037],{36801:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(28276),r=a.n(n),s=a(5368),i=a.n(s)()(r());i.push([e.id,'.backButton{display:inline-block;font-size:.8666em;height:1.5625em;color:#8692a6;background-color:transparent;border:0;cursor:pointer;font-family:"Poppins",sans-serif;padding:0;margin:0;font-weight:500}@media screen and (min-width: 852px){.backButton{font-size:.8421em}}.backButton:lang(he){font-family:"Assistant","sans-serif"}.backButton .icon{margin-inline-end:.375em}.backButton.placeholder{height:1.3em}',""]);const o=i},5199:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(28276),r=a.n(n),s=a(5368),i=a.n(s)()(r());i.push([e.id,'.cardPage{display:flex;flex-direction:column}.cardPage.withBottomPanel .card{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:0}.cardPage .card{position:relative;margin:0 1.2em 1.2em;background-color:#fff;border-radius:11px;overflow-y:auto;display:flex;flex-direction:column;gap:1rem;height:100%;box-sizing:border-box;flex-grow:1;scrollbar-color:#5bc6f9 #dadada;scrollbar-width:thin}@media screen and (max-width: 380px){.cardPage .card{gap:0rem;margin:0 1.2em 1.2em}}.cardPage .card::-webkit-scrollbar{width:3pt}.cardPage .card::-webkit-scrollbar-track{background-color:#dadada;border-radius:3pt}.cardPage .card::-webkit-scrollbar-thumb{background-color:#5bc6f9;border-radius:3pt}.cardPage .card::-webkit-scrollbar-thumb:hover{background-color:#3bb1e7}.cardPage .card .cardTop{border-bottom:1px solid #f1f1f1}.cardPage .card .cardTop .backButton{margin-top:2.0212em;font-size:1.0666em;line-height:1.3081em;color:#000;margin-inline-start:1.0937em}.cardPage .card .cardTop .cardTopHeader{display:flex;align-items:center;justify-content:center;text-align:start;margin-left:1.36667em;margin-right:1.36667em;margin-bottom:1.73333em}.cardPage .card .cardTop .cardTopHeader .titleContainer{display:flex;align-items:center;justify-content:center;margin:2rem auto 0rem auto;gap:1rem}.cardPage .card .cardTop .cardTopHeader .titleContainer:lang(he){font-family:"Assistant","sans-serif"}@media screen and (max-width: 500px){.cardPage .card .cardTop .cardTopHeader .titleContainer:lang(he){margin:2rem 0 0rem auto}}.cardPage .card .cardTop .cardTopHeader .customerDetailCallout{line-height:1.3333em;padding:1em .8333em 1.5em;translate:0 50%;max-width:36em}.cardPage .card .cardTop .cardTopHeader .customerDetailCallout.ms-Callout{font-size:.8em}.cardPage .card .cardTop .cardTopHeader .customerDetailCallout button{background-color:transparent;border:0;cursor:pointer;color:#5bc6f9;font-size:.7708em;padding:0 0 1.1621em 1.1621em}.cardPage .card .cardTop .cardTopHeader .customerDetailCallout button i{height:1em;width:1em}.cardPage .card .cardTop .cardTopHeader button{background-color:#5fcf90;border-radius:50%;border-style:none;color:#fff;margin-inline-start:.4125em;line-height:1em;padding:.25em .63em;cursor:pointer}.cardPage .card .cardTop .cardTopHeader .cardTopHeaderText{font-size:1.66667em;font-weight:700;margin:0}@media screen and (max-width: 500px){.cardPage .card .cardTop .cardTopHeader .cardTopHeaderText{font-size:1.3em}}.cardPage .card .cardTop .cardTopHeader .titleIcon{font-size:1.7333em;margin-left:.32em;margin-right:.32em}.cardPage .buttonContainer{flex:0 0 3.53333em;background-color:#fff;width:100%;border-top:1px solid #dfdfdf;display:flex}.cardPage .buttonContainer .button{font-size:1em;margin:.8em;flex:1}.cardPage .buttonContainer .button .ms-Button-flexContainer{padding:.3333em;line-height:1.308em;height:1.3333em}',""]);const o=i},77550:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(28276),r=a.n(n),s=a(5368),i=a.n(s)()(r());i.push([e.id,".spinner{box-sizing:border-box;border-radius:100%;border-style:solid;border-width:2px;border-color:#8cdbff #8cdbff transparent transparent;border-top:0;position:absolute;top:50%;left:50%;pointer-events:none}.spinner.s0{transform:translate(-50%, -50%) rotate(0)}.spinner.s1{transition:transform 3s linear;transform:translate(-50%, -50%) rotate(0)}.spinner.s2{transition:transform 3s linear;transform:translate(-50%, -50%) rotate(360deg)}",""]);const o=i},49456:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(28276),r=a.n(n),s=a(5368),i=a.n(s)()(r());i.push([e.id,".analyticsPage .card{background-color:transparent;margin-bottom:0}.analyticsPage .card .cardTop{background-color:#fff;border-top-left-radius:11px;border-top-right-radius:11px}.analyticsPage .analytics-header{background-color:#f1f1f1;display:flex;justify-content:space-evenly;font-size:1rem;padding-top:.5rem;align-items:center;gap:1rem}@media screen and (max-width: 500px){.analyticsPage .analytics-header{justify-content:space-between}}.analyticsPage .analytics-header button{margin-top:.2rem;padding:.5rem 1.5rem;border-radius:3px}.analyticsPage .analyticSection{background-color:#fff;border-radius:11px;padding:1.6666em;margin-bottom:1.6em}.analyticsPage .analyticSection .date-Time-picker{display:flex;flex-direction:column;margin:auto;justify-content:center;gap:1rem;align-items:center}.analyticsPage .analyticSection:first-child{border-top-left-radius:0;border-top-right-radius:0}.analyticsPage h2{font-size:1.4em;font-weight:700;margin:0}.analyticsPage .textStat{font-size:1.1333em;margin-top:.3529em;margin-bottom:0;font-weight:600}.analyticsPage .textStat span{font-weight:400}.analyticsPage .dashboard__loading-state{height:100vh;display:flex;justify-content:center;align-items:center}.analyticsPage .charts{display:flex;flex-flow:row wrap;margin-top:1.2666em}.analyticsPage .charts .chart{position:relative;width:100%}@media screen and (max-width: 720px){.analyticsPage .charts{flex-direction:column}.analyticsPage .charts .chart{max-width:100%}}",""]);const o=i},14469:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(51855),r=a(26154),s=a(47562),i=a(78451);function o(e,t={}){const a=(0,r.Z)(),o="undefined"!=typeof window&&void 0!==window.matchMedia,{defaultMatches:l=!1,matchMedia:c=(o?window.matchMedia:null),noSsr:d=!1,ssrMatchMedia:m=null}=(0,s.Z)({name:"MuiUseMediaQuery",props:t,theme:a});let u="function"==typeof e?e(a):e;u=u.replace(/^@media( ?)/m,"");const[g,y]=n.useState((()=>d&&o?c(u).matches:m?m(u).matches:l));return(0,i.Z)((()=>{let e=!0;if(!o)return;const t=c(u),a=()=>{e&&y(t.matches)};return a(),t.addListener(a),()=>{e=!1,t.removeListener(a)}}),[u,c,o]),g}},22405:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(51855),r=a(5591),s=a(72220),i=a(19350);const o=e=>{const t=(0,r.s0)(),a=function(){const[,e]=(0,n.useState)(0);return()=>{e((e=>e+1))}}(),o=sessionStorage.getItem("authToken"),l=localStorage.getItem("credentialToken");return(0,n.useEffect)((()=>{let e=null;return o||(l?(0,s.Z)({credentialTokenUuid:l}).catch((()=>{localStorage.removeItem("credentialToken")})).finally((()=>{a()})):e=setTimeout((()=>{t("/login",{replace:!0})}),3e3)),()=>{e&&clearTimeout(e)}}),[o,l]),o?n.createElement(n.Fragment,null,e.children):l?n.createElement("div",{className:"narrowContent paddedContent"},n.createElement("h1",null,"טוען"),n.createElement(i.Z,null)):n.createElement("div",{className:"narrowContent paddedContent"},n.createElement("h1",null,"אין לך הרשאה לעמוד זה"))}},96816:(e,t,a)=>{a.d(t,{Z:()=>k});var n=a(51855),r=a(38032),s=a(2490),i=a(61495),o=a(93379),l=a.n(o),c=a(7795),d=a.n(c),m=a(90569),u=a.n(m),g=a(3565),y=a.n(g),p=a(19216),b=a.n(p),f=a(44589),h=a.n(f),v=a(36801),w={};w.styleTagTransform=h(),w.setAttributes=y(),w.insert=u().bind(null,"head"),w.domAPI=d(),w.insertStyleElement=b(),l()(v.Z,w),v.Z&&v.Z.locals&&v.Z.locals;const T={en:{back:"Back"},he:{back:"חזור"}},k=e=>{const t=(0,n.useContext)(s.r),a=i.Z.useTranslationNamespace("backButton",(e=>Promise.resolve(T[e]))),o=i.Z.useIsRtl(),l=!!e.override,c=t=>(e.className||"").split(" ").concat(t).join(" ");return t.canGoBack||l?n.createElement("button",{className:c("backButton"),type:"button",onClick:l?e.override:t.goBack},n.createElement(r.J,{iconName:o?"chevronRight":"chevronLeft",className:"icon"}),a("back")):n.createElement("div",{className:c("backButton placeholder")})}},51491:(e,t,a)=>{a.d(t,{Z:()=>k});var n=a(51855),r=a(38032),s=a(96816),i=a(34297),o=a(1285),l=a(93379),c=a.n(l),d=a(7795),m=a.n(d),u=a(90569),g=a.n(u),y=a(3565),p=a.n(y),b=a(19216),f=a.n(b),h=a(44589),v=a.n(h),w=a(5199),T={};T.styleTagTransform=v(),T.setAttributes=p(),T.insert=g().bind(null,"head"),T.domAPI=m(),T.insertStyleElement=f(),c()(w.Z,T),w.Z&&w.Z.locals&&w.Z.locals;const k=e=>{const[t,a]=(0,n.useState)(!1);return n.createElement("div",{className:(l="fullHeight cardPage"+(e.bottomPanel?" withBottomPanel":""),(e.className||"").split(" ").concat(l).join(" "))},n.createElement("div",{className:"card"},n.createElement("div",{className:"cardTop"},!e.hideBack&&n.createElement(s.Z,{override:e.backButtonOverride}),n.createElement("div",{className:"cardTopHeader"},n.createElement("div",{className:"titleContainer"},e.iconName?n.createElement(r.J,{iconName:e.iconName,className:"titleIcon"}):null,n.createElement("h1",{className:"cardTopHeaderText"},e.title)),e.layerInfo?n.createElement(n.Fragment,null,n.createElement("button",{id:"layerGroupInfoButton",type:"button",onClick:()=>a(!0)},"i"),t&&n.createElement(i.U,{className:"customerDetailCallout",target:".seatSetting__numinput-container",onDismiss:()=>a(!1),directionalHint:o.b.topCenter},n.createElement("button",{type:"button",onClick:()=>a(!1)},n.createElement(r.J,{iconName:"times"})),n.createElement("div",null,e.callout))):null)),e.cardContent),e.bottomPanel&&n.createElement("div",{className:e.bottomPanelClass?e.bottomPanelClass:"buttonContainer"},e.bottomPanel));var l}},19350:(e,t,a)=>{a.d(t,{Z:()=>w});var n=a(51855),r=a(9003),s=a(93379),i=a.n(s),o=a(7795),l=a.n(o),c=a(90569),d=a.n(c),m=a(3565),u=a.n(m),g=a(19216),y=a.n(g),p=a(44589),b=a.n(p),f=a(77550),h={};h.styleTagTransform=b(),h.setAttributes=u(),h.insert=d().bind(null,"head"),h.domAPI=l(),h.insertStyleElement=y(),i()(f.Z,h),f.Z&&f.Z.locals&&f.Z.locals;var v=a(14469);const w=e=>{const[t,a]=(0,n.useState)(0),s=(0,n.useRef)(),[i,o]=r.Z.useParentSize(s),l=(0,v.Z)("(max-width:500px)"),c=(0,v.Z)("(max-width:400px)"),d=!e.contentIsNumber&&c?0:!e.contentIsNumber&&l?-50:2,m=(l||c)&&e.contentIsNumber?15:0,u=e.contentIsNumber?d+0+i:i,g=Math.min(o,l?i+d+m:u)/2.3;return(0,n.useEffect)((()=>{const e=function(e,t){const n={callback:()=>{a((e=>(e+1)%3))},desiredTime:Date.now()+t},r=()=>{n.cleared||(Date.now()>=n.desiredTime?n.callback():window.requestAnimationFrame(r))};return window.requestAnimationFrame(r),n}(0,2===t?3e3:0);return()=>{!function(e){e.cleared=!0}(e)}}),[t]),n.createElement("div",{ref:s,className:"spinner"+(()=>{switch(t){case 0:return" s0";case 1:return" s1";case 2:return" s2"}return""})(),style:{width:2*g,height:2*g}})}},13037:(e,t,a)=>{a.r(t),a.d(t,{default:()=>oe});var n=a(47835),r=a(51855),s=a(97072),i=a(61495),o=a(54320);const l="label";function c(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function d(e,t){e.labels=t}function m(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;const n=[];e.datasets=t.map((t=>{const r=e.datasets.find((e=>e[a]===t[a]));return r&&t.data&&!n.includes(r)?(n.push(r),Object.assign(r,t),r):Object.assign({},t)}))}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;const a={labels:[],datasets:[]};return d(a,e.labels),m(a,e.datasets,t),a}function g(e,t){let{height:a=150,width:n=300,redraw:s=!1,datasetIdKey:i,type:l,data:g,options:y,plugins:p=[],fallbackContent:b}=e,f=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent"]);const h=(0,r.useRef)(null),v=(0,r.useRef)(),w=()=>{h.current&&(v.current=new o.kL(h.current,{type:l,data:u(g,i),options:y,plugins:p}),c(t,v.current))},T=()=>{c(t,null),v.current&&(v.current.destroy(),v.current=null)};return(0,r.useEffect)((()=>{var e,t;!s&&v.current&&y&&(e=v.current,t=y,e.options=Object.assign({},t))}),[s,y]),(0,r.useEffect)((()=>{!s&&v.current&&d(v.current.config.data,g.labels)}),[s,g.labels]),(0,r.useEffect)((()=>{!s&&v.current&&g.datasets&&m(v.current.config.data,g.datasets,i)}),[s,g.datasets]),(0,r.useEffect)((()=>{v.current&&(s?(T(),setTimeout(w)):v.current.update())}),[s,y,g.labels,g.datasets]),(0,r.useEffect)((()=>(w(),()=>T())),[]),r.createElement("canvas",Object.assign({ref:h,role:"img",height:a,width:n},f),b)}const y=(0,r.forwardRef)(g);function p(e,t){return o.kL.register(t),(0,r.forwardRef)(((t,a)=>r.createElement(y,Object.assign({},t,{ref:a,type:e}))))}const b=p("line",o.ST),f=p("bar",o.vn),h=p("pie",o.tt),v=p("scatter",o.ho),w=JSON.parse('{"analytics":"Analytics","second":"second","seconds":"{{seconds}} seconds","minute":"minute","minutes":"{{minutes}} minutes","hour":"hour","hours":"hours","dateLabel":"Select specific Date","hoursAndMinutes":"{{hours}} hours and {{minutes}} minutes","today":"Today","month":"This Month","yesterday":"Yesterday","customise":"Customize","week":"This week","visitorCount":"Visitors:","averageWaitingTimeValue":"Average waiting time:","averageWaitingTime":"Average ","medianWaitingTimeValue":"Median waiting time:","medianWaitingTime":"Median ","notYetServed":"Pending","served":"Served","exited":"Exited","taba":"Tab A","removed":"Removed","sunday":"Su","monday":"Mo","tuesday":"Tu","wednesday":"We","thursday":"Th","friday":"Fr","saturday":"Sa","totalVisitors":"Total visitors","byDay":"By day","byHour":"By hour"}'),T=JSON.parse('{"analytics":"אנליטיקות","second":"שניה","seconds":"{{seconds}} שניות","minute":"דקה","minutes":"{{minutes}} דקות","hour":"שעה","hours":"שעות","dateLabel":"בחר תאריך ספציפי","hoursAndMinutes":"{{hours}} שעות ו {{minutes}} דקות","today":"היום","month":"החודש","yesterday":"אתמול","customise":"להתאים אישית","week":"השבוע","visitorCount":"מבקרים:","averageWaitingTimeValue":"זמן המתנה ממוצע:","averageWaitingTime":"זמן המתנה ממוצע","medianWaitingTimeValue":"חציון זמן המתנה:","medianWaitingTime":"חציון זמן המתנה","notYetServed":"טרם שורתו","served":"קיבלו שירות","exited":"יצאו","taba":"לשונית א","removed":"הוצאו","sunday":"ראשון","monday":"שני","tuesday":"שלישי","wednesday":"רביעי","thursday":"חמישי","friday":"שישי","saturday":"שבת","totalVisitors":"סה\\"כ מבקרים","byDay":"לפי יום","byHour":"לפי שעה"}'),k={en:w,he:T};o.kL.register(o.uw,o.f$,o.ZL,o.Dx,o.u,o.De);const E=({analytics:e})=>{const t=i.Z.useTranslationNamespace("analytics",(e=>Promise.resolve(k[e]))),a=i.Z.useIsRtl(),n=(()=>{const t=e.byWeekDay.map((e=>Math.max(e.averageWaitingTime,e.medianWaitingTime))).reduce(((e,t)=>t>e?t:e),-1/0);return t<6e4?1e3:t<36e5?6e4:36e5})(),s={family:`'${a?"Assistant":"Poppins"}', sans-serif`},o={display:!0,rtl:a,labels:{font:s,usePointStyle:!0,boxWidth:20,pointStyle:"rect"},position:"bottom"},l={x:{grid:{drawBorder:!1,color:"#fff"},ticks:{font:s}},y:{title:{font:s},ticks:{font:s}}},c=[t("sunday").toString(),t("monday").toString(),t("tuesday").toString(),t("wednesday").toString(),t("thursday").toString(),t("friday").toString(),t("saturday").toString()];return r.createElement("div",null,r.createElement("div",{className:"chart"},r.createElement(f,{height:150,data:{labels:c,datasets:[{label:t("averageWaitingTime"),data:e.byWeekDay.map((e=>Math.round(e.medianWaitingTime/n*10)/10)),backgroundColor:"#762EFF"},{label:t("medianWaitingTime"),data:e.byWeekDay.map((e=>Math.round(e.averageWaitingTime/n*10)/10)),backgroundColor:"#69D6FF"}]},options:{responsive:!0,maintainAspectRatio:!0,plugins:{datalabels:{display:!1},legend:o},scales:Object.assign(Object.assign({},l),{y:Object.assign(Object.assign({},l.y),{title:Object.assign(Object.assign({},l.y.title),{display:!0,text:(()=>{switch(n){case 1e3:return t("seconds");case 6e4:return t("minutes");case 36e5:return t("hours")}return""})()})})})}})))};var x=a(16784);o.kL.register(o.uw,o.f$,o.od,o.jn,o.Dx,o.u,o.De);const P={en:w,he:T},Z=({byWeekDay:e,analytics:t})=>{const a=i.Z.useTranslationNamespace("analytics",(e=>Promise.resolve(P[e]))),n=i.Z.useIsRtl(),s={family:`'${n?"Assistant":"Poppins"}', sans-serif`},o={display:!0,rtl:n,labels:{font:s,usePointStyle:!0,boxWidth:10,pointStyle:"rect"},position:"bottom"},l=e&&e,c={labels:[a("notYetServed").toString(),a("served").toString(),a("exited").toString(),a("removed").toString()],datasets:[{label:a("byHour"),data:t.byHour.map((e=>e.totalVisitors)),backgroundColor:"#69D6FF",borderColor:"#69D6FF",yAxisID:"y"},{label:a("byDay"),data:[l.leaveReasons.null,l.leaveReasons.served,l.leaveReasons.quit,l.leaveReasons.removed],backgroundColor:"#762EFF",borderColor:"#762EFF",yAxisID:"y1"}]},d={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},stacked:!1,plugins:{datalabels:{formatter:(e,t)=>{if(0===e)return"";const a=t.chart.data.datasets[0].data.reduce(((e,t)=>e+t),0);return`${Math.round(e/a*100)}%`},color:"#000",font:s},legend:o},scales:{y:{type:"linear",display:!0,position:"left"},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1}}}};return r.createElement(b,{height:200,plugins:[x.Z],data:c,options:d})};o.kL.register(o.f$,o.od,o.jn,o.u,o.De);const S={en:w,he:T},C=({byweekDay:e})=>{const t=i.Z.useTranslationNamespace("analytics",(e=>Promise.resolve(S[e]))),a=i.Z.useIsRtl(),n=e,s={family:`'${a?"Assistant":"Poppins"}', sans-serif`},o={display:!1,rtl:a},l=(()=>{const t=[e].map((e=>Math.max(e.averageWaitingTime,e.medianWaitingTime))).reduce(((e,t)=>t>e?t:e),-1/0);return t<6e4?1e3:t<36e5?6e4:36e5})(),c={x:{grid:{drawBorder:!1,color:"#fff"},ticks:{font:s}},y:{title:{font:s},ticks:{font:s}}},d={responsive:!0,plugins:{datalabels:{display:!1},legend:o},scales:Object.assign(Object.assign({},c),{y:Object.assign(Object.assign({},c.y),{title:Object.assign(Object.assign({},c.y.title),{display:!0,text:(()=>{switch(l){case 1e3:return t("seconds");case 6e4:return t("minutes");case 36e5:return t("hours")}return""})()})})})};return r.createElement("div",{className:"chartContainer"},r.createElement("div",{className:"chart"},r.createElement(v,{height:150,options:d,data:{labels:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],datasets:[{data:[n.leaveReasons.null,n.leaveReasons.served,n.leaveReasons.quit,n.leaveReasons.removed],backgroundColor:"#762EFF"}]}})))},D={en:w,he:T},N=({byWeekDay:e})=>{const t=i.Z.useTranslationNamespace("analytics",(e=>Promise.resolve(D[e]))),a=i.Z.useIsRtl(),n={family:`'${a?"Assistant":"Poppins"}', sans-serif`},s={display:!0,rtl:a,labels:{font:n,usePointStyle:!0,boxWidth:10,pointStyle:"rect"},position:"bottom"},o=e&&e;return r.createElement("div",{className:"chartContainer"},r.createElement("div",{className:"chart"},r.createElement(h,{height:250,plugins:[x.Z],data:{labels:[t("notYetServed").toString(),t("served").toString(),t("exited").toString(),t("removed").toString()],datasets:[{data:[o.leaveReasons.null,o.leaveReasons.served,o.leaveReasons.quit,o.leaveReasons.removed],backgroundColor:["#762EFF","#69D6FF","#D2F3FF","#E6E6E6"]}]},options:{maintainAspectRatio:!1,plugins:{datalabels:{formatter:(e,t)=>{if(0===e)return"";const a=t.chart.data.datasets[0].data.reduce(((e,t)=>e+t),0);return`${Math.round(e/a*100)}%`},color:"#000",font:n,textAlign:a?"right":"left"},legend:s}}})))},W={en:w,he:T},R=({analytics:e,byWeekDay:t})=>{const a=i.Z.useTranslationNamespace("analytics",(e=>Promise.resolve(W[e])));return r.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"2rem",marginTop:"2rem"}},r.createElement("h2",null,a("analytics")," 1"),r.createElement(N,{analytics:e,byWeekDay:t}),r.createElement("h2",null,a("analytics")," 2"),r.createElement("div",{className:"chart"},r.createElement(Z,{analytics:e,byWeekDay:t})),r.createElement("h2",null,a("analytics")," 3"),r.createElement(E,{analytics:e}),r.createElement("h2",null,a("analytics")," 4"),r.createElement(C,{byweekDay:t}))};var O=a(69451),j=a(38032),A=a(86828),I=a(34366),F=a(61640),B=a(41353),H=a(82311),z=a(22405),M=a(5591),L=a(49470),q=a(93379),V=a.n(q),$=a(7795),J=a.n($),Y=a(90569),G=a.n(Y),U=a(3565),_=a.n(U),K=a(19216),Q=a.n(K),X=a(44589),ee=a.n(X),te=a(49456),ae={};ae.styleTagTransform=ee(),ae.setAttributes=_(),ae.insert=G().bind(null,"head"),ae.domAPI=J(),ae.insertStyleElement=Q(),V()(te.Z,ae),te.Z&&te.Z.locals&&te.Z.locals;var ne=a(43691),re=a(51491);const se={en:w,he:T},ie=["","TabB","TabC"],oe=()=>{var e;const t=i.Z.useTranslationNamespace("analytics",(e=>Promise.resolve(se[e]))),a=i.Z.useIsRtl(),o=[t("today"),t("yesterday"),t("week"),t("month"),t("customise")],[l,c]=(0,r.useState)(null),d={[t("today")]:"Today",[t("yesterday")]:"Yesterday",[t("week")]:"This week",[t("month")]:"This Month",[t("customise")]:"Customize"},[m,u]=r.useState(d[t("today")]),[g,y]=r.useState(""),[p,b]=(0,r.useState)(null),[f,h]=(0,r.useState)(null==l?void 0:l.byWeekDay[(0,n.Z)(new Date)]),v=null!==(e=window.location.hash.split("/")[4])&&void 0!==e?e:"",w=(0,M.s0)(),{queueGroupId:T}=(0,M.UO)();return ie.findIndex((e=>e===v)),(0,O.a)({queryKey:["analytic",T],queryFn:()=>{return e=void 0,t=void 0,n=function*(){return yield L.Z.queueGroup.analytic.get(T,(new Date).getTimezoneOffset())},new((a=void 0)||(a=Promise))((function(r,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,o)}l((n=n.apply(e,t||[])).next())}));var e,t,a,n},onSuccess(e){c(e)},onError:e=>console.error(e)}),l?r.createElement(z.Z,null,r.createElement(ne.Z,{hideBackButton:!0,menuProps:{canLogOut:!0}}),r.createElement(re.Z,{className:"analyticsPage",title:t("analytics"),backButtonOverride:()=>w("/restaurant/settings"),iconName:"chartLine",cardContent:r.createElement("div",null,r.createElement(M.Z5,null,r.createElement(M.AW,{path:"/",element:(()=>{let e=t("today");const s=l&&l.byWeekDay.reduce(((e,t)=>Object.assign(Object.assign({},e),{leaveReasons:{null:t.leaveReasons.null+e.leaveReasons.null,served:t.leaveReasons.served+e.leaveReasons.served,quit:t.leaveReasons.quit+e.leaveReasons.quit,removed:t.leaveReasons.removed+e.leaveReasons.removed},averageWaitingTime:t.averageWaitingTime+e.averageWaitingTime,medianWaitingTime:t.medianWaitingTime+e.medianWaitingTime,totalVisitors:t.totalVisitors+e.totalVisitors})),{averageWaitingTime:0,medianWaitingTime:0,totalVisitors:0,leaveReasons:{null:0,quit:0,removed:0,served:0}}),i=(0,n.Z)(new Date)-1==-1?6:(0,n.Z)(new Date),c={[d[t("today")]]:l&&l.byWeekDay[(0,n.Z)(new Date)],[d[t("yesterday")]]:l&&l.byWeekDay[i],[d[t("week")]]:s,[d[t("month")]]:s,[d[t("customise")]]:l&&l.byWeekDay[i]};return r.createElement("div",{className:"cardContent"},r.createElement("div",{className:"analyticSection"},r.createElement("div",{className:"date-Time-picker"},r.createElement(I.Z,{sx:{m:1,width:300}},r.createElement(F.Z,{labelId:"demo-select-small",id:"demo-select-small",value:g||e,fullWidth:!0,onChange:e=>{y(e.target.value),h(c[d[e.target.value]]),u(d[e.target.value]),b(new Date)}},o.map((e=>r.createElement(B.Z,{key:e,value:e},e))))),r.createElement(A.Z,{label:t("dateLabel"),value:p,onChange:e=>{null!==e?(h(l.byWeekDay[(0,n.Z)(e)]),b(e),u(null)):h(l.byWeekDay[(0,n.Z)(new Date)])},renderInput:e=>r.createElement(H.Z,Object.assign({},e,{variant:"outlined",size:"medium",style:{minWidth:"300px"}})),components:{LeftArrowIcon:()=>r.createElement(j.J,{iconName:a?"chevronRight":"chevronLeft"}),RightArrowIcon:()=>r.createElement(j.J,{iconName:a?"chevronLeft":"chevronRight"})}})),r.createElement(R,{analytics:l,byWeekDay:f||c[m]})))})()})))})):r.createElement(s.V,null)}},9003:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(51855);const r={useParentSize:function(e){const[t,a]=(0,n.useState)(0),[r,s]=(0,n.useState)(0),i=e.current&&e.current.parentElement;return(0,n.useLayoutEffect)((()=>{if(!i)return()=>{};const e=()=>{const e=i.clientHeight,n=i.clientWidth;let o=e<=140?98:5;t!==e&&a(e+(e<=79?98:5)),r!==n&&s(n+o)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}})),[r,t]}}}}]);