"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5984],{66821:(e,t,u)=>{u.d(t,{Z:()=>r});var a=u(28276),s=u.n(a),o=u(5368),n=u.n(o)()(s());n.push([e.id,".customerPage .customerPageRestaurant .customerRestaurantStateJoinQuestionnaire{display:flex;flex-direction:column;height:100%}.customerPage .customerPageRestaurant .customerRestaurantStateJoinQuestionnaire .title{font-size:1.2em;line-height:1.3333em;font-weight:700;margin-top:.5555em;margin-bottom:1.9583em}@media screen and (max-width: 380px){.customerPage .customerPageRestaurant .customerRestaurantStateJoinQuestionnaire .title{margin-bottom:.9583em;margin-top:.3555em;line-height:.8333em;font-size:1em}}",""]);const r=n},75984:(e,t,u)=>{u.r(t),u.d(t,{default:()=>R});var a=u(51855),s=u(61495),o=u(49470),n=u(70288),r=u(72693),i=u(31545);const m=JSON.parse('{"title":"Just a few short details...","joinQueue":"Join queue"}'),c=JSON.parse('{"title":"רק כמה פרטים קצרים...","joinQueue":"כניסה לתור"}');var l=u(93379),d=u.n(l),p=u(7795),h=u.n(p),g=u(90569),q=u.n(g),f=u(3565),b=u.n(f),C=u(19216),J=u.n(C),Q=u(44589),S=u.n(Q),w=u(66821),P={};P.styleTagTransform=S(),P.setAttributes=b(),P.insert=q().bind(null,"head"),P.domAPI=h(),P.insertStyleElement=J(),d()(w.Z,P),w.Z&&w.Z.locals&&w.Z.locals;var v=u(5591);const N={en:m,he:c},R=e=>{const t=(0,a.useContext)(n.kN),u=t.queueGroup&&t.queueGroup.id,m=t.queue&&t.queue.id,c=t.customer&&t.customer.id,l=t.customer&&t.customer.name,d=t.customer&&t.customer.phone,p=t.queueCustomer&&t.queueCustomer.id,h=t.queueCustomer&&t.queueCustomer.complete,g=(0,v.s0)(),q=s.Z.useTranslationNamespace("CustomerPageRestaurantViewStateJoinQuestionnaire",(e=>Promise.resolve(N[e])));return a.useEffect((()=>{h&&e.callback(),setTimeout((()=>{let t=(0,r.J)((0,r.vs)("",e.Qrid),"customerName"),u=(0,r.J)((0,r.vs)("",e.Qrid),"sawCustomerInitModal");t||u||(g(""),window.location.reload())}),0)}),[h,c]),a.createElement("div",{className:"customerRestaurantStateJoinQuestionnaire"},a.createElement("p",{className:"title"},q("title")),a.createElement(i.Z,{queueGroupId:u,commitButtonLabel:q("joinQueue"),onDataSubmitted:t=>{o.Z.queueGroup.queue.customer.patch(u,m,c,{name:null!=l?l:"",phone:d,queueCustomer:{id:p,peopleCount:t.guestsNumber,comment:t.comment,traits:t.selectedTraits.map((e=>({type:e}))),areas:t.selectedAreas.map((e=>({queueAreaId:e}))),complete:!0}}).then(e.onSubmit).catch(e.onError)}}))}}}]);