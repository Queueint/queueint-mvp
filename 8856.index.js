"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8856],{99162:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(28276),i=n.n(a),r=n(5368),o=n.n(r)()(i());o.push([e.id,".adsPage .advertisement{margin-top:1.93333em;margin-bottom:2.612em;border:1px solid #f1f1f1}.adsPage .cardContent{padding-top:1.7333em;padding-left:1.66667em;padding-right:1.66667em;flex-direction:column;justify-content:center;align-items:center}.adsPage .adList{display:flex;flex-wrap:wrap;justify-content:space-between;padding:1.73333em 1.66667em}.adsPage .adList .advertisementThumb{flex:0 0 8.86666em;margin-bottom:.7em;-webkit-user-select:none;user-select:none}.adsPage .adList .advertisementThumb.current{outline:.26667em solid #5bc6f9}.adsPage .buttonContainerWithCaption{max-height:5em;background-color:#fff;width:100%;border-top:1px solid #dfdfdf;display:flex;flex-wrap:wrap}.adsPage .buttonContainerWithCaption p{flex:0 0 100%;text-align:center;margin:.5em 0 0;font-size:.93333em}.adsPage .buttonContainerWithCaption .button{font-size:1.06667em;margin:.5em .75em .75em;flex:1}.adsPage .buttonContainerWithCaption .button .ms-Button-flexContainer{padding-top:0;padding-bottom:0}",""]);const s=o},8286:(e,t,n)=>{var a=n(93379),i=n.n(a),r=n(7795),o=n.n(r),s=n(90569),l=n.n(s),d=n(3565),u=n.n(d),c=n(19216),m=n.n(c),p=n(44589),f=n.n(p),g=n(99162),b={};b.styleTagTransform=f(),b.setAttributes=u(),b.insert=l().bind(null,"head"),b.domAPI=o(),b.insertStyleElement=m(),i()(g.Z,b),g.Z&&g.Z.locals&&g.Z.locals},18856:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var a=n(51855),i=n(5591),r=n(1564),o=n(39014),s=n(15211),l=n(22405),d=n(77478),u=n(64225),c=n(49470),m=n(85945),p=n(69451),f=n(64469),g=n(51491),b=n(67506),y=(n(8286),n(43691)),v=n(61495),h=n(906),C=n(88411);const x={en:h,he:C},E=()=>{const[e,t]=(0,a.useState)([]),[n,h]=(0,a.useState)(""),[C,E]=(0,a.useState)(!1),{queueGroupId:Z}=(0,i.UO)(),P=(0,m.NL)(),k=(0,i.s0)(),w=v.Z.useTranslationNamespace("advertisement",(e=>Promise.resolve(x[e]))),{enqueueSnackbar:T}=(0,u.Ds)(),{handleNotification:q}=(0,d.V)();(0,p.a)({queryKey:[`advertisementAll${Z}`,Z],queryFn:()=>c.Z.queueGroup.advertisement.getAll(Z),onSuccess:e=>{t(e)},onError:e=>{console.log(e.message)}});const{mutate:B,isLoading:L,isError:N,isSuccess:S}=(0,f.D)((e=>c.Z.queueGroup.advertisement.delete(Z,e)),{onError:e=>{console.log(e)},onSuccess:()=>{return e=void 0,t=void 0,a=function*(){yield P.invalidateQueries({queryKey:[`advertisementAll${Z}`,Z]}),yield P.invalidateQueries({queryKey:[`advertisement${Z}`,Z]}),h(""),E(!1),q("success",T)},new((n=void 0)||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}));var e,t,n,a}});return a.createElement("div",{className:"adsPage"},a.createElement(l.Z,null,a.createElement(y.Z,{hideBackButton:!0,menuProps:{canLogOut:!0}}),a.createElement(g.Z,{title:w("adCreationList"),iconName:"ad",cardContent:a.createElement("div",{className:"adList"},e.map((e=>a.createElement(s.Z,{key:e.id,text:e.text,imageUrl:e.imageUrl,onClick:()=>{E(!1),n!==e.id?h(e.id):h("")},className:n===e.id?"advertisementThumb current":"advertisementThumb"}))),S&&a.createElement(r.c,{messageBarType:o.f.success},w("adDeleted")),N&&a.createElement(r.c,{messageBarType:o.f.error},w("genericError"))),bottomPanelClass:C?"buttonContainerWithCaption":null,bottomPanel:""===n?a.createElement(b.Z,{outlined:!0,customButtonType:"primary",text:w("createNewAd"),disabled:L,onClick:()=>{k(`/queueGroup/${Z}/advertisement/new`)}}):C?a.createElement(a.Fragment,null,a.createElement("p",null,w("sureQuestion")),a.createElement(b.Z,{customButtonType:"attention",text:w("confirmDelete"),disabled:L,onClick:()=>{(n=>{B(n);const a=e.filter((e=>e.id!==n));t(a)})(n)}}),a.createElement(b.Z,{outlined:!0,customButtonType:"primary",text:w("cancel"),disabled:L,onClick:()=>{E(!1)}})):a.createElement(a.Fragment,null,a.createElement(b.Z,{customButtonType:"primary",text:w("edit"),disabled:L,onClick:()=>{k(`/queueGroup/${Z}/advertisement/${n}`)}}),a.createElement(b.Z,{outlined:!0,customButtonType:"attention",text:w("delete"),disabled:L,onClick:()=>{E(!0)}}))})))}}}]);