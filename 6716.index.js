"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6716],{77425:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(44296),a=n(42516);const o=(0,r.Z)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},17852:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(44296),a=n(42516);const o=(0,r.Z)((0,a.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm-1-5h2v2h-2zm0-8h2v6h-2z"}),"ErrorOutlineTwoTone")},68628:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(44296),a=n(42516);const o=(0,r.Z)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility")},79950:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(44296),a=n(42516);const o=(0,r.Z)((0,a.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff")},35397:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(72269),a=n(58657),o=n(51855),i=(n(31039),n(68510)),s=n(41801),l=n(79258),u=n(58261),c=n(22692);function d(e){return(0,c.Z)("MuiDialogContent",e)}(0,n(97292).Z)("MuiDialogContent",["root","dividers"]);var m=n(39806),p=n(42516);const v=["className","dividers"],h=(0,l.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})((({theme:e,ownerState:t})=>(0,a.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${e.palette.divider}`,borderBottom:`1px solid ${e.palette.divider}`}:{[`.${m.Z.root} + &`]:{paddingTop:0}}))),g=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiDialogContent"}),{className:o,dividers:l=!1}=n,c=(0,r.Z)(n,v),m=(0,a.Z)({},n,{dividers:l}),g=(e=>{const{classes:t,dividers:n}=e,r={root:["root",n&&"dividers"]};return(0,s.Z)(r,d,t)})(m);return(0,p.jsx)(h,(0,a.Z)({className:(0,i.Z)(g.root,o),ownerState:m,ref:t},c))}))},98562:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(58657),a=n(72269),o=n(51855),i=(n(31039),n(68510)),s=n(41801),l=n(38717),u=n(79258),c=n(58261),d=n(39806),m=n(27284),p=n(42516);const v=["className","id"],h=(0,u.ZP)(l.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),g=o.forwardRef((function(e,t){const n=(0,c.Z)({props:e,name:"MuiDialogTitle"}),{className:l,id:u}=n,g=(0,a.Z)(n,v),Z=n,y=(e=>{const{classes:t}=e;return(0,s.Z)({root:["root"]},d.a,t)})(Z),{titleId:f=u}=o.useContext(m.Z);return(0,p.jsx)(h,(0,r.Z)({component:"h2",className:(0,i.Z)(y.root,l),ownerState:Z,ref:t,variant:"h6",id:f},g))}))},39806:(e,t,n)=>{n.d(t,{a:()=>a,Z:()=>o});var r=n(22692);function a(e){return(0,r.Z)("MuiDialogTitle",e)}const o=(0,n(97292).Z)("MuiDialogTitle",["root"])},80024:(e,t,n)=>{n.d(t,{Z:()=>E});var r=n(72269),a=n(58657),o=n(51855),i=(n(31039),n(68510)),s=n(41801),l=n(61655),u=n(38717),c=n(39938),d=n(20435),m=n(79258),p=n(22692);function v(e){return(0,p.Z)("MuiInputAdornment",e)}const h=(0,n(97292).Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var g=n(58261),Z=n(42516);const y=["children","className","component","disablePointerEvents","disableTypography","position","variant"],f=(0,m.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,l.Z)(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((({theme:e,ownerState:t})=>(0,a.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:e.palette.action.active},"filled"===t.variant&&{[`&.${h.positionStart}&:not(.${h.hiddenLabel})`]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"}))),E=o.forwardRef((function(e,t){const n=(0,g.Z)({props:e,name:"MuiInputAdornment"}),{children:m,className:p,component:h="div",disablePointerEvents:E=!1,disableTypography:b=!1,position:w,variant:x}=n,S=(0,r.Z)(n,y),T=(0,d.Z)()||{};let C=x;x&&T.variant,T&&!C&&(C=T.variant);const N=(0,a.Z)({},n,{hiddenLabel:T.hiddenLabel,size:T.size,disablePointerEvents:E,position:w,variant:C}),P=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:a,size:o,variant:i}=e,u={root:["root",n&&"disablePointerEvents",a&&`position${(0,l.Z)(a)}`,i,r&&"hiddenLabel",o&&`size${(0,l.Z)(o)}`]};return(0,s.Z)(u,v,t)})(N);return(0,Z.jsx)(c.Z.Provider,{value:null,children:(0,Z.jsx)(f,(0,a.Z)({as:h,ownerState:N,className:(0,i.Z)(P.root,p),ref:t},S,{children:"string"!=typeof m||b?(0,Z.jsxs)(o.Fragment,{children:["start"===w?(0,Z.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):null,m]}):(0,Z.jsx)(u.Z,{color:"text.secondary",children:m})}))})}))},66716:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var r=n(51855),a=n(49470),o=n(34366),i=n(89014),s=n(8072),l=n(80024),u=n(54512),c=n(46321),d=n(17257),m=n(90969),p=n(98562),v=n(35397),h=n(38717),g=n(77425),Z=n(17852),y=n(79950),f=n(68628),E=n(22405),b=n(43691),w=n(67506),x=n(61495),S=n(51491),T=n(69451),C=n(64225),N=n(77478),P=n(42079),q=n(72122),M=n(5246),B=n(64239),$=(n(49588),n(5591)),z=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))};const k={en:P,he:q},j={en:M,he:B},D=r.forwardRef((function(e,t){return r.createElement(d.Z,Object.assign({direction:"up",ref:t},e))})),R=({text:e,attention:t,showBtn:n,proceed:a,Open:d,onclose:E,Transition:b,error:S,setPassword:T,password:C})=>{const[N,P]=r.useState({amount:"",showPassword:!1}),q=x.Z.useTranslationNamespace("restaurantSettings",(e=>Promise.resolve(k[e])));return r.createElement(m.Z,{open:d,TransitionComponent:b,keepMounted:!0,onClose:E,"aria-describedby":"alert-dialog-slide-description"},r.createElement(p.Z,{className:"pop__header"},r.createElement(g.Z,{className:"close",onClick:E,fontSize:"small"}),r.createElement("div",{style:{margin:"auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},r.createElement(Z.Z,null),t?q("attention"):null)),r.createElement("div",null,r.createElement(v.Z,{style:{textAlign:"center"}},r.createElement(h.Z,{variant:"subtitle1"},e))),n?r.createElement(r.Fragment,null,r.createElement(o.Z,{style:{width:"70%",margin:"1em auto",fontSize:".8em"},variant:"outlined"},r.createElement(i.Z,null,q("passwordLabel")),r.createElement(s.Z,{type:N.showPassword?"text":"password",value:C,error:""!==S,required:!0,autoComplete:"off",onChange:e=>T(e.target.value),endAdornment:r.createElement(l.Z,{position:"end"},r.createElement(u.Z,{"aria-label":"toggle password visibility",onClick:()=>P(Object.assign(Object.assign({},N),{showPassword:!N.showPassword})),onMouseDown:e=>e.preventDefault(),edge:"end"},N.showPassword?r.createElement(y.Z,null):r.createElement(f.Z,null))),label:q("passwordLabel")}),r.createElement(c.Z,{style:{color:"red"}},S&&S)),r.createElement("div",{style:{display:"flex",gap:"1rem",alignItems:"center",margin:"auto",paddingBottom:"2rem"},className:"dialog__btn"},r.createElement(w.Z,{text:q("dontChange"),style:{fontSize:".85rem"},onClick:E,customButtonType:"primary",outlined:!0}),r.createElement(w.Z,{style:{fontSize:".85rem"},text:q("change"),disabled:!(null==C?void 0:C.length),onClick:a,customButtonType:"primary"}))):null)},L=()=>{var e,t;const[n,o]=(0,r.useState)(!1),[i,s]=(0,r.useState)(null),{enqueueSnackbar:l}=(0,C.Ds)(),{handleNotification:u}=(0,N.V)(),c=i&&(null==i?void 0:i.id),d=i&&(null==i?void 0:i.queues)&&(null===(e=null==i?void 0:i.queues)||void 0===e?void 0:e.length)>0&&(null===(t=null==i?void 0:i.queues[0])||void 0===t?void 0:t.id),[m,p]=(0,r.useState)(!1),v=(0,$.s0)(),[h,g]=(0,r.useState)(!1),Z=x.Z.useTranslationNamespace("restaurantSettings",(e=>Promise.resolve(k[e]))),y=x.Z.useTranslationNamespace("businessDashboard",(e=>Promise.resolve(j[e]))),{refetch:f}=(0,T.a)({queryKey:["getMine"],queryFn:()=>a.Z.queueGroup.getMine(),networkMode:"always",onSuccess:e=>{s(e)}}),{refetch:P}=(0,T.a)({queryKey:["areas",c],queryFn:()=>z(void 0,void 0,void 0,(function*(){var e;return yield a.Z.queueGroup.queue.get(null==i?void 0:i.id,null===(e=null==i?void 0:i.queues[0])||void 0===e?void 0:e.id)})),networkMode:"always",enabled:!1,refetchOnWindowFocus:!1,onSuccess:e=>{var t,n;(null===(n=null===(t=null==e?void 0:e.queueGroup)||void 0===t?void 0:t.areas)||void 0===n?void 0:n.length)>0?v(`/restaurant/${c}/table`):g(!0)},onError:e=>{console.error(e),u("error",l)}});return r.createElement(E.Z,null,r.createElement(b.Z,{hideBackButton:!0,menuProps:{canLogOut:!0}}),r.createElement(S.Z,{className:"restaurantQueueGroupPage settings",title:Z("businessManagement"),backButtonOverride:()=>v("/restaurant"),cardContent:r.createElement("div",{className:"cardContent"},m&&r.createElement(R,{Open:m,Transition:D,onclose:()=>p(!1),text:r.createElement("div",{style:{textAlign:"center"}},r.createElement("p",{style:{marginTop:"-.6rem",whiteSpace:"pre"}},`${Z("right")}${Z("middle")}${Z("popUpMessage")}`),r.createElement("p",{style:{marginTop:"-.6rem",whiteSpace:"pre"}},Z("popup2")),r.createElement("p",{style:{marginTop:"-.6rem",whiteSpace:"pre"}},Z("popup3")))}),h&&r.createElement(R,{Transition:D,Open:h,onclose:()=>g(!1),text:r.createElement("div",null,Z("EmptyAreaError"))}),r.createElement("div",null,r.createElement(w.Z,{customButtonType:"primary",text:y("advertisements"),iconProps:{iconName:"ad"},href:`#/queueGroup/${c}/advertisement`}),r.createElement(w.Z,{customButtonType:"primary",text:y("analytics"),iconProps:{iconName:"chartLine"},href:`#/queueGroup/${c}/analytic`})),r.createElement("div",null,r.createElement(w.Z,{customButtonType:"primary",text:y("qrCode"),iconProps:{iconName:"qrcode"},href:`#/c/${c}/${d}/${(()=>{var e;return(null===(e=null==i?void 0:i.queues)||void 0===e?void 0:e.length)?i.queues[0].QRId:""})()}/qr`}),r.createElement(w.Z,{customButtonType:"primary",text:y("permissions"),iconProps:{iconName:"user"},href:`#/queueGroup/${c}/user`})),r.createElement("div",null,r.createElement(w.Z,{customButtonType:"primary",text:y("branding"),iconProps:{iconName:"paintBrush"},href:`#/queueGroup/${c}/brand`}),r.createElement(w.Z,{customButtonType:"primary",text:Z("areas"),iconProps:{iconName:"layerGroup"},href:`#/queueGroup/${c}/area`})),r.createElement("div",null,r.createElement(w.Z,{customButtonType:"primary",text:Z("tableManagement"),iconProps:{iconName:"chair"},onClick:()=>z(void 0,void 0,void 0,(function*(){return P()}))}),r.createElement(w.Z,{customButtonType:"primary",text:Z("queueDisplayManagement"),iconProps:{iconName:"user"},href:`#/restaurant/${c}/queue/${d}/queueDisplay`})),r.createElement("div",null,r.createElement(w.Z,{customButtonType:"primary",text:Z("messages"),disabled:n,iconProps:{iconName:"message"},href:`#/queueGroup/${c}/messages`}),r.createElement(w.Z,{customButtonType:"primary",text:Z("map"),disabled:n,iconProps:{iconName:"map"},href:`#/queueGroup/${c}/mapsettings`})))}))}},5246:e=>{e.exports=JSON.parse('{"businessName":"Business name","save":"Save","addQueue":"Add queue","analytics":"Analytics","tableSetting":"SeatingSetting","advertisements":"Advertisements","marketingSettings":"Marketing settings","qrCode":"QR code","branding":"Branding","permissions":"Permissions","teachingUnderstood":"Understood","teachingBusinessNameTitle":"Define the business name","teachingBusinessNameContent":"The business\'s name will be shown on the QR code signage and other places you\'ll share with your customers.","teachingCreateQueueTitle":"Lets create a queue","teachingCreateQueueContent":"When a customer arrives to receive service, they select which queue to join.\\nEvery business can have multiple queues."}')},64239:e=>{e.exports=JSON.parse('{"businessName":"שם העסק","save":"שמירה","addQueue":"הוסף תור","analytics":"אנליטיקות","advertisements":"פרסומות","marketingSettings":"הגדרות שיווקיות","tableSetting":"הגדרות שולחן","qrCode":"קוד QR","branding":"מיתוג","permissions":"הרשאות","teachingUnderstood":"הבנתי","teachingBusinessNameTitle":"הגדר את שם העסק","teachingBusinessNameContent":"שם העסק יופיע על שלט הקוד QR ובמקומות נוספים שתשתף את לקוחותיך.","teachingCreateQueueTitle":"בוא ניצור תור","teachingCreateQueueContent":"לכל עסק יכולים להיות מספר תורים.\\nכאשר לקוח מגיע לקבל שירות, הוא בוחר לאיזה תור להצטרף."}')}}]);