"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1545],{440:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(28276),i=a.n(n),r=a(5368),o=a.n(r)()(i());o.push([e.id,'.spinnerInput{display:inline-flex;justify-content:space-between;align-items:center;border-radius:1.5em/50%;border:1px solid #ddd;padding:.214em .5333em}.spinnerInput .circleButton{font-size:.8em;padding:.3333em;background-color:#5fcf90}.spinnerInput .spinnerValue{font-size:1.6em;line-height:1em;margin:0 .7916em}.spinnerInput input{border-style:none;text-align:center;font-size:1.6em;font-family:"Poppins",sans-serif;width:2.2em;height:1.4em;padding:0;margin:0;-moz-appearance:textfield}.spinnerInput input::-webkit-outer-spin-button,.spinnerInput input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}',""]);const s=o},88640:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(28276),i=a.n(n),r=a(5368),o=a.n(r)()(i());o.push([e.id,".customerDetail{display:flex;flex-direction:column;align-items:center;height:100%}.customerDetail .customerDetailMain{width:100%;flex-grow:1}.customerDetail p{margin:0}.customerDetail .guestsNumberGroup{gap:1.08333em}.customerDetail .guestsNumberGroup p{display:inline-block;font-size:1.13333em;white-space:nowrap;margin-inline-end:1.4705em}@media screen and (max-width: 380px){.customerDetail .guestsNumberGroup p{font-size:.83333em;margin-inline-end:.8705em}}.customerDetail .traits{display:flex;flex-direction:row;gap:1em}.customerDetail .traitButton.outlined:hover{background-color:#fff}.customerDetail .traitButton{width:100%;font-size:1.3333em;margin-top:1em}@media screen and (max-width: 380px){.customerDetail .traitButton{font-size:.8333em}}.customerDetail .traitButton .ms-Button-flexContainer{display:inline-flex;flex-direction:row-reverse;width:100%;color:#000;padding:.35em}.customerDetail .traitButton .ms-Button-flexContainer span{flex-grow:unset}.customerDetail .traitButton .ms-Button-flexContainer .ms-Icon{padding-inline-start:0;margin-inline-start:0;margin-inline-end:.4375em}.customerDetail .areaGroup{margin-top:2.5333em;width:100%}@media screen and (max-width: 380px){.customerDetail .areaGroup{margin-top:1.5333em}}.customerDetail .areaGroup .areaGroupTitle{display:flex;flex-direction:row;align-items:center;justify-content:center;font-size:1.13333em}@media screen and (max-width: 380px){.customerDetail .areaGroup .areaGroupTitle{font-size:.83333em}}.customerDetail .areaGroup .areaGroupTitle button{background-color:#5fcf90;border-radius:50%;border-style:none;color:#fff;margin-inline-start:.4125em;line-height:1em;padding:.25em .63em;cursor:pointer}.customerDetail .areaGroup .areaGroupTitle .titleIcon{margin-inline-end:.7em}.customerDetail .areaGroup .areaGroupTitle .titleIcon path{fill:#909090}.customerDetail .areaGroup .checkbox{font-size:.9333em;width:50%;background-color:none;z-index:1}.customerDetail .areaList{display:flex;flex-wrap:wrap;row-gap:.9333em;width:100%;padding:0 1.2666em;box-sizing:border-box;align-items:center;margin-top:1.6666em}.customerDetail .areaList .areaCell{flex-basis:50%}.customerDetail .areaList .areaCell .checkbox{width:100%}.customerDetail .areaList .areaCell .checkbox .checkboxLabel{display:flex;align-items:center;gap:.6667em;margin:0 .7142em;text-align:start}.customerDetail .areaList .areaCell .checkbox .checkboxLabel .circleIcon{border:1px solid #8f8f8f;justify-content:center;border-radius:50%;color:#8f8f8f;font-size:.8em;flex:0 0 2em;height:2em;align-items:center;display:flex}.customerDetail .areaList .areaCell .checkbox .ms-Checkbox-checkbox{width:1.7em;height:1.7em}.customerDetail .customerComment{margin-top:3.2em}.customerDetail .customerCommit{width:100%;font-size:1.5333em;margin-top:1.1304em}@media screen and (max-width: 380px){.customerDetail .customerCommit{margin-top:.8304em;font-size:.8333em}}.customerDetail .customerCommit .ms-Button-flexContainer{padding:.3478em}.customerDetail .customerCommit .ms-Button-label{line-height:1.3043em}.customerDetailCallout{line-height:1.3333em;padding:1em .8333em 1.5em;max-width:16em}.customerDetailCallout.ms-Callout{font-size:.8em}.customerDetailCallout button{background-color:transparent;border:0;cursor:pointer;color:#5bc6f9;font-size:.7708em;padding:0 0 1.1621em 1.1621em}.customerDetailCallout button i{height:1em;width:1em}.alertGuestLimit{margin:1.5rem;border:1px solid #3bb1e7;border-radius:8px;justify-content:center;padding:1rem;position:relative;display:flex;flex-direction:column;box-shadow:2px -3px 5px 1px #3bb1e7;-webkit-box-shadow:2px -1px 5px 1px #3bb1e7;-moz-box-shadow:2px -2px 5px 1px #3bb1e7}.alertGuestLimit .close{color:#3bb1e7;font-size:18px;font-weight:bolder;text-align:right;padding:1rem}.alertGuestLimit .close:hover{cursor:pointer}.alertGuestLimit .content{text-align:center}.alertGuestLimit .icon-wrapper{position:absolute;left:40%;top:2rem}.alertGuestLimit .icon-wrapper button{border:none;background-color:#fff}",""]);const s=o},45250:(e,t,a)=>{var n=a(93379),i=a.n(n),r=a(7795),o=a.n(r),s=a(90569),l=a.n(s),m=a(3565),c=a.n(m),u=a(19216),d=a.n(u),p=a(44589),b=a.n(p),f=a(88640),g={};g.styleTagTransform=b(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=d(),i()(f.Z,g),f.Z&&f.Z.locals&&f.Z.locals},2754:(e,t,a)=>{a.d(t,{b:()=>C,Z:()=>N});var n=a(51855),i=a(4772),r=a(93379),o=a.n(r),s=a(7795),l=a.n(s),m=a(90569),c=a.n(m),u=a(3565),d=a.n(u),p=a(19216),b=a.n(p),f=a(44589),g=a.n(f),h=a(440),x={};x.styleTagTransform=g(),x.setAttributes=d(),x.insert=c().bind(null,"head"),x.domAPI=l(),x.insertStyleElement=b(),o()(h.Z,x),h.Z&&h.Z.locals&&h.Z.locals;const C=e=>n.createElement("div",{className:"spinnerInput"},n.createElement(i.Z,{customButtonType:"secondary",onClick:()=>{e.onChange(e.value+1)},iconName:"plus",disabled:e.disabled}),n.createElement("input",{type:"number",value:e.value,disabled:e.disabled,onChange:t=>{const{value:a}=t.target;if(!isNaN(Number(a))){const t=e.value;e.onChange(t>1?t:1)}}}),n.createElement(i.Z,{customButtonType:"secondary",onClick:()=>{e.onChange(e.value>1?e.value-1:e.value)},iconName:"minus",disabled:e.disabled||(void 0!==e.minValue&&null!==e.minValue?e.value<=e.minValue:null)})),N=e=>n.createElement("div",{className:"spinnerInput"},n.createElement(i.Z,{disabled:e.disabled,customButtonType:"secondary",onClick:()=>e.onChange((e=>e+1)),iconName:"plus"}),n.createElement("input",{type:"number",value:e.value,onChange:t=>{const{value:a}=t.target;if(!isNaN(Number(a))){const t=parseInt(a,10);e.onChange(t>1?t:1)}}}),n.createElement(i.Z,{customButtonType:"secondary",onClick:()=>e.onChange((e=>e>1?e-1:e)),iconName:"minus",disabled:void 0!==e.minValue&&null!==e.minValue?e.value<=e.minValue:null}))},25431:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(51855),i=a(61495),r=a(67506),o=a(19138),s=a(96990);a(45250);const l={en:o,he:s},m=e=>{const t=i.Z.useTranslationNamespace("customerDetail",(e=>Promise.resolve(l[e])));return n.createElement("div",{className:"alertGuestLimit"},n.createElement("div",{className:"close",onClick:e.onDismiss},"x"),n.createElement("div",{className:"icon-wrapper"},n.createElement(r.Z,{iconProps:{iconName:"infoCircle"}})),n.createElement("div",{className:"content"},t("areaGuestLimit")))}},31545:(e,t,a)=>{a.d(t,{Z:()=>g});var n=a(51855),i=a(38032),r=a(34297),o=a(1285),s=a(82311),l=a(49470),m=a(61495),c=a(67506),u=a(33488),d=a(2754),p=(a(45250),a(25431));const b={en:a(19138),he:a(96990)};function f(e,t){const a=e=>e.map((e=>`${e}`)).join(", ");return a(e)!==a(t)}const g=e=>{const t=JSON.parse(localStorage.getItem("temporalCustomerQueueInfo")),[a,g]=(0,n.useState)([]),[h,x]=(0,n.useState)([]),[C,N]=(0,n.useState)((null==t?void 0:t.guestNumber)||1),[v,E]=(0,n.useState)([]),[D,y]=(0,n.useState)((null==t?void 0:t.selectedTraits)||[]),[k,w]=(0,n.useState)((null==t?void 0:t.comment)||""),[G,Z]=(0,n.useState)(!1),[L,T]=(0,n.useState)(1e3),[I,B]=(0,n.useState)(!1),{queueGroupId:z}=e,S=m.Z.useTranslationNamespace("customerDetail",(e=>Promise.resolve(b[e]))),A=e=>{if(!e.tables||0===e.tables.length)return-1;const t=e.tables.map((e=>e.capacity));return Math.max(...t)},P=e=>{const t=(e=>{if(!e||0===e.length)return-1;const t=e.map((e=>A(e)));return Math.max(...t)})(e);T(-1===t?1e3:t)},q=(e,t)=>!D.includes(t)||e.traits&&e.traits.some((e=>e.type===t)),V=e=>{const t=A(e);return-1===t||C<=t},J={handicapped:"handicap",smoker:"cigarette"};return(0,n.useEffect)((()=>{let e=!0;return l.Z.queueGroup.area.get(z).then((t=>{if(e){g(t);const e=(e=>{const t=e.map((e=>(e.traits||[]).map((e=>e.type)))).reduce(((e,t)=>e.concat(t)),[]);return t.filter(((e,a)=>t.indexOf(e)===a))})(t);x(e),1===t.length&&E([t[0].id])}})).catch((e=>{console.error(e)})),()=>{e=!1}}),[z]),(0,n.useEffect)((()=>{if(!e.queueCustomer)return;C!==e.queueCustomer.peopleCount&&N(e.queueCustomer.peopleCount),k!==e.queueCustomer.comment&&w(e.queueCustomer.comment);const t=(e.queueCustomer.areas||[]).map((e=>e.queueAreaId));f(v,t)&&E(t);const a=(e.queueCustomer.traits||[]).map((e=>e.type));f(D,a)&&y(a)}),[]),(0,n.useEffect)((()=>{e.onDataChange&&e.onDataChange({guestsNumber:C,selectedAreas:v,selectedTraits:D,comment:k})}),[C,v,D,k]),(0,n.useEffect)((()=>{if(0===v.length)P(a);else{const e=(a||[]).filter((e=>v.includes(e.id)));P(e)}}),[v,a]),(0,n.useEffect)((()=>{((e=!0)=>{B(!!(e&&C>L))})()}),[v,C,L]),(0,n.useEffect)((()=>{a&&a.forEach((e=>{V(e)||E((t=>t.filter((t=>t!==e.id))))}))}),[C]),a?n.createElement("div",{className:"customerDetail"},n.createElement("div",{className:"customerDetailMain"},n.createElement("div",{className:"customerDetailColumns"},n.createElement("div",{className:" customerDetailColumn"},n.createElement("div",{className:"guestsNumberGroup"},n.createElement("p",null,S("guestNumberQuestion")),n.createElement(d.Z,{value:C,onChange:N,minValue:1,maxValue:L,disabled:L<C})),n.createElement("div",{className:"traits"},h.map((e=>{return n.createElement(c.Z,{className:"traitButton",singleLine:!0,key:e,text:S(e),iconProps:{iconName:J[e]},outlined:!(null==D?void 0:D.includes(e))||(t=e,!D.some((e=>t===e))),customButtonType:"primary",onClick:()=>(e=>{y((t=>t.some((t=>t===e))?t.filter((t=>t!==e)):[...t,e])),E([])})(e)});var t})))),n.createElement("div",{className:"areas customerDetailColumn"},I&&1===a.length&&n.createElement(p.Z,{onDismiss:()=>{N(L),B(!1)}}),I&&a.length>1?n.createElement(p.Z,{onDismiss:()=>{N(L),B(!1)}}):a.length>1&&n.createElement("div",{className:"areaGroup"},n.createElement("div",{className:"areaGroupTitle"},n.createElement(i.J,{iconName:"layerGroup",className:"titleIcon"}),n.createElement("p",null,S("areaPrefs")),n.createElement("button",{id:"layerGroupInfoButton",type:"button",onClick:()=>Z(!0)},"i"),G&&n.createElement(r.U,{className:"customerDetailCallout",target:"#layerGroupInfoButton",onDismiss:()=>Z(!1),directionalHint:o.b.topCenter},n.createElement("button",{type:"button",onClick:()=>Z(!1)},n.createElement(i.J,{iconName:"times"})),n.createElement("div",null,S("infoText")))),n.createElement("div",{className:"areaList"},n.createElement("div",{className:"areaCell"},n.createElement(u.Z,{checked:0===v.length,onRenderLabel:()=>n.createElement("div",{className:"checkboxLabel"},n.createElement("span",null,S("anyArea"))),onChange:(e,t)=>{t&&E([])}})),a.map((e=>{return n.createElement("div",{className:"areaCell",key:e.id},(e=>q(e,"smoker")&&q(e,"handicapped")&&V(e))(e)&&n.createElement(u.Z,{checked:v.includes(e.id)||(t=e.id,v.some((e=>t===e))&&V(e)),onRenderLabel:()=>n.createElement("div",{className:"checkboxLabel"},n.createElement("span",null,e.name),e.traits&&e.traits.some((e=>"smoker"===e.type))&&n.createElement(i.J,{className:"circleIcon",iconName:"cigarette"}),e.traits&&e.traits.some((e=>"handicapped"===e.type))&&n.createElement(i.J,{className:"circleIcon",iconName:"handicap"})),onChange:(t,a)=>{E(a?t=>[...t,e.id]:v.filter((t=>t!==e.id)))}}));var t})))))),n.createElement(s.Z,{label:S("comment"),className:"customerComment",variant:"outlined",size:"small",fullWidth:!0,multiline:!0,rows:3,value:k||"",onChange:e=>w(e.target.value)})),e.commitButtonLabel&&n.createElement(c.Z,{className:"customerCommit",customButtonType:"purple",text:e.commitButtonLabel,onClick:()=>{e.onDataSubmitted&&e.onDataSubmitted({guestsNumber:C,selectedAreas:v,selectedTraits:D,comment:k})},disabled:L<C})):n.createElement("div",{className:"customerDetail"},n.createElement("div",{className:"isLoading"}))}},19138:e=>{e.exports=JSON.parse('{"guestNumberQuestion":"Number of guests?","comment":"Additional Comments?","anyArea":"What\'s available first","areaPrefs":"Preferred area?","yes":"Yes","no":"No","infoText":"The business will make its best effort to meet your request but doesn\'t commit to a specific place.","smoker":"Smokers","handicapped":"Accessible","areaGuestLimit":"There are no suitable tables for this number of people. Please choose another area :) "}')},96990:e=>{e.exports=JSON.parse('{"guestNumberQuestion":"כמה תהיו?","comment":"הערות נוספות?","anyArea":"מה שפנוי ראשון","areaPrefs":"איזור מועדף?","yes":"כן","no":"לא","infoText":"בית העסק יעשה את מירב המאמצים להיענות לבקשתך אך אינו מתחייב למקום מסוים.","smoker":"מעשנים","handicapped":"מונגש","areaGuestLimit":"על בסיס כמות האנשים שהזנת אין שולחן מתאים באיזור זה, אנא בחר איזור אחר :)"}')}}]);