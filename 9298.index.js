/*! For license information please see 9298.index.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9298],{44997:(e,t,n)=>{var a=n(51855),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=a.useState,o=a.useEffect,c=a.useLayoutEffect,u=a.useDebugValue;function i(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),a=s({inst:{value:n,getSnapshot:t}}),r=a[0].inst,l=a[1];return c((function(){r.value=n,r.getSnapshot=t,i(r)&&l({inst:r})}),[e,n,t]),o((function(){return i(r)&&l({inst:r}),e((function(){i(r)&&l({inst:r})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:l},70014:(e,t,n)=>{e.exports=n(44997)},60997:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var a=n(51855),r=n(5591),s=n(1564),o=n(39014),c=n(67506),u=n(22405),i=n(49470),l=n(85945),m=n(64469),d=n(77478),v=n(64225),f=n(95251),g=n(43691),E=n(51491),h=n(61495),y=n(906),p=n(88411);const S={en:y,he:p},x=()=>{const[e,t]=(0,a.useState)(""),[n,y]=(0,a.useState)(""),{queueGroupId:p}=(0,r.UO)(),{enqueueSnackbar:x}=(0,v.Ds)(),{handleNotification:w}=(0,d.V)(),b=h.Z.useTranslationNamespace("advertisement",(e=>Promise.resolve(S[e]))),Z=(0,l.NL)(),U=(0,a.useRef)(null),{mutate:C,isLoading:k,isError:N,isSuccess:T}=(0,m.D)((()=>i.Z.queueGroup.advertisement.post(p,{text:e,imageUrl:n})),{onError:()=>{w("success",x)},onSuccess:()=>{return e=void 0,n=void 0,r=function*(){yield Z.invalidateQueries({queryKey:[`advertisement${p}`,p]}),yield Z.invalidateQueries({queryKey:[`advertisementAll${p}`,p]}),t(""),y(""),w("success",x),U.current.scrollIntoView({behavior:"smooth"})},new((a=void 0)||(a=Promise))((function(t,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function c(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof a?n:new a((function(e){e(n)}))).then(o,c)}u((r=r.apply(e,n||[])).next())}));var e,n,a,r}});return a.createElement("div",{className:"adsPage"},a.createElement(u.Z,null,a.createElement(g.Z,{hideBackButton:!0,menuProps:{canLogOut:!0}}),a.createElement(E.Z,{title:b("adCreation"),iconName:"ad",cardContent:a.createElement("div",{className:"cardContent"},a.createElement(f.Z,{text:e,setText:t,imageUrl:n,setImageUrl:y},N&&a.createElement(s.c,{messageBarType:o.f.error},b("genericError")),T&&a.createElement(s.c,{messageBarType:o.f.success},b("adCreatedSuccessfully")),a.createElement("div",{ref:U}))),bottomPanel:a.createElement(c.Z,{customButtonType:"secondary",text:b("save"),disabled:k,onClick:()=>C()})})))}},95251:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(51855),r=n(82311),s=n(15211),o=n(61495),c=n(1564),u=n(39014);const i={en:n(906),he:n(88411)},l=e=>{const[t,n]=(0,a.useState)(!1),l=o.Z.useTranslationNamespace("advertisement",(e=>Promise.resolve(i[e])));return a.createElement(a.Fragment,null,a.createElement(a.Fragment,null,a.createElement(r.Z,{label:l("imageLink"),variant:"outlined",size:"small",fullWidth:!0,value:e.imageUrl,onChange:t=>{const a=t.target.value;if(n(!1),""===a)return void e.setImageUrl(a);const r=new Image;r.src=a,r.onload=()=>{const{width:t,height:s}=r,o=t/s;Math.abs(o-16/9)<.1?e.setImageUrl(a):n(!0)},r.onerror=()=>{e.setImageUrl(a)}}}),t&&a.createElement(c.c,{messageBarType:u.f.error},l("aspectRatioError")),a.createElement(s.Z,{text:e.text,imageUrl:e.imageUrl,className:"advertisement"}),a.createElement(r.Z,{size:"small",label:l("text"),rows:2,fullWidth:!0,value:e.text,onChange:t=>e.setText(t.target.value),multiline:!0})),a.createElement("div",null,e.children))}},464:(e,t,n)=>{n.d(t,{$:()=>a});const a=n(70014).useSyncExternalStore},24798:(e,t,n)=>{function a(e,t){return"function"==typeof e?e(...t):!!e}n.d(t,{L:()=>a})}}]);