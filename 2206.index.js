"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2206],{63690:(e,t,u)=>{u.d(t,{Z:()=>o});var s=u(28276),a=u.n(s),r=u(5368),n=u.n(r)()(a());n.push([e.id,".customerPage .customerPageRestaurant .customerRestaurantStateEditQuestionnaire{height:100%;margin-top:1rem}",""]);const o=n},42206:(e,t,u)=>{u.r(t),u.d(t,{default:()=>N});var s=u(51855),a=u(61495),r=u(49470),n=u(70288),o=u(31545),m=u(64225),c=u(77478),i=u(93379),l=u.n(i),d=u(7795),p=u.n(d),h=u(90569),q=u.n(h),C=u(3565),b=u.n(C),v=u(19216),S=u.n(v),Z=u(44589),g=u.n(Z),E=u(63690),k={};k.styleTagTransform=g(),k.setAttributes=b(),k.insert=q().bind(null,"head"),k.domAPI=p(),k.insertStyleElement=S(),l()(E.Z,k),E.Z&&E.Z.locals&&E.Z.locals;const f={en:{save:"Save"},he:{save:"שמור"}},N=e=>{const t=(0,s.useContext)(n.kN),u=t.queueGroup&&t.queueGroup.id,i=t.queue&&t.queue.id,l=t.customer&&t.customer.id,d=t.customer&&t.customer.name,p=t.customer&&t.customer.phone,h=t.queueCustomer&&t.queueCustomer.id,{enqueueSnackbar:q}=(0,m.Ds)(),{handleNotification:C}=(0,c.V)(),b=a.Z.useTranslationNamespace("CustomerPageRestaurantViewStateEditQuestionnaire",(e=>Promise.resolve(f[e])));return s.createElement("div",{className:"customerRestaurantStateEditQuestionnaire"},s.createElement(o.Z,{queueGroupId:u,commitButtonLabel:b("save"),queueCustomer:t.queueCustomer,onDataSubmitted:t=>{r.Z.queueGroup.queue.customer.patch(u,i,l,{name:null!=d?d:"",phone:p,queueCustomer:{id:h,peopleCount:t.guestsNumber,comment:t.comment,traits:t.selectedTraits.map((e=>({type:e}))),areas:t.selectedAreas.map((e=>({queueAreaId:e}))),complete:!0}}).then((()=>{e.onSubmit(),C("success",q)})).catch((t=>{e.onError(t),C("error",q)}))}}))}}}]);